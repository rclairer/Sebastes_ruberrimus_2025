"Incidental"="NONTWL",
"LE Sablefish - Hook & Line" = "NONTWL",
"LE Sablefish - Pot"="NONTWL" ,
"Midwater Hake"="TWL", # UNSURE
"Midwater Rockfish"="TWL",
"Nearshore"="NONTWL" ,
"OA Fixed Gear - Hook & Line"="NONTWL" ,
"Research"="NONTWL", #GUESS
"Tribal Shoreside"="TWL",
"Directed P Halibut"="TWL", # GUES
"Midwater Rockfish EM"="TWL",
"Pink Shrimp"="TWL" ,
"CS - Pot"="NONTWL" ,
"LE Fixed Gear DTL - Hook & Line"="TWL",
"Midwater Hake EM"="TWL" ,
"CS - Hook & Line"="NONTWL"  ,
"OA Fixed Gear - Pot"="NONTWL" ,
"CS - Bottom and Midwater Trawl"="TWL",
"Limited Entry Trawl"="TWL",
"Tribal At-Sea Hake"="TWL",
"Shoreside Hake"="TWL",
"LE CA Halibut"="TWL"
)
commercial_gemm <- gemm |>
dplyr::mutate(fleet = sector_fleet)
trawl <- c(
"At-Sea Hake CP" = "TWL", # UNSURE
"At-Sea Hake MSCV"="TWL", #UNSURE
"CS - Bottom Trawl"="TWL",
"CS EM - Bottom Trawl"="TWL" ,
"Midwater Hake"="TWL", # UNSURE
"Midwater Rockfish"="TWL",
"Tribal Shoreside"="TWL",
"Directed P Halibut"="TWL", # GUES
"Midwater Rockfish EM"="TWL",
"Pink Shrimp"="TWL" ,
"LE Fixed Gear DTL - Hook & Line"="TWL",
"Midwater Hake EM"="TWL" ,
"CS - Bottom and Midwater Trawl"="TWL",
"Limited Entry Trawl"="TWL",
"Tribal At-Sea Hake"="TWL",
"Shoreside Hake"="TWL",
"LE CA Halibut"="TWL"
)
nontrawl <- c(
"CS EM - Pot"="NONTWL",
"Incidental"="NONTWL",
"LE Sablefish - Hook & Line" = "NONTWL",
"LE Sablefish - Pot"="NONTWL" ,
"Nearshore"="NONTWL" ,
"OA Fixed Gear - Hook & Line"="NONTWL" ,
"Research"="NONTWL", #GUESS
"CS - Pot"="NONTWL" ,
"CS - Hook & Line"="NONTWL"  ,
"OA Fixed Gear - Pot"="NONTWL" ,
)
trawl <- c(
"At-Sea Hake CP", # UNSURE
"At-Sea Hake MSCV", #UNSURE
"CS - Bottom Trawl",
"CS EM - Bottom Trawl",
"Midwater Hake", # UNSURE
"Midwater Rockfish",
"Tribal Shoreside",
"Directed P Halibut", # GUES
"Midwater Rockfish EM",
"Pink Shrimp" ,
"LE Fixed Gear DTL - Hook & Line",
"Midwater Hake EM"="TWL" ,
"CS - Bottom and Midwater Trawl",
"Limited Entry Trawl",
"Tribal At-Sea Hake",
"Shoreside Hake",
"LE CA Halibut"
)
nontrawl <- c(
"CS EM - Pot",
"Incidental",
"LE Sablefish - Hook & Line",
"LE Sablefish - Pot" ,
"Nearshore" ,
"OA Fixed Gear - Hook & Line" ,
"Research", #GUESS
"CS - Pot" ,
"CS - Hook & Line",
"OA Fixed Gear - Pot"
)
commercial_gemm <- gemm |>
dplyr::filter(sector %in% c(trawl, nontrawl)) |>
dplyr::mutate(fleet = dplyr::case_when(
sector %in% trawl ~ "TWL",
sector %in% nontrawl ~ "NONTWL",
TRUE ~ NA
))
View(commercial_gemm)
commercial_gemm <- gemm |>
dplyr::filter(sector %in% c(trawl, nontrawl)) |>
dplyr::mutate(fleet = dplyr::case_when(
sector %in% trawl ~ "TWL",
sector %in% nontrawl ~ "NONTWL",
TRUE ~ NA
)) |>
# dplyr::mutate(
#   area = dplyr::case_when(
#     sector %in% c(CA_comm_twl, CA_comm_nontwl) ~ "CA",
#     sector %in% c(ORWA_comm_twl, ORWA_comm_nontwl) ~ "ORWA",
#     TRUE ~ "XXXX"
#     ),
#   type = dplyr::case_when(
#     sector %in% c(CA_comm_twl, ORWA_comm_twl) ~ "TWL",
#     sector %in% c(CA_comm_nontwl, ORWA_comm_nontwl) ~ "NONTWL",
#     TRUE ~ "XXXX"
#   ),
#   fleet = glue::glue("{type}-{area}")
# ) |>
dplyr::group_by(year, fleet) |>
dplyr::summarise(total_discards = sum(total_discard_mt),
cv = max(cv))
# alternatvie gemm from Kiva
#| eval: false
gemm_comm_alt <- gemm_catch_by_cs_gear |>
dplyr::group_by(year) |>
dplyr::summarise(gemm_alt_dsic = sum(discard_mt)) |>
dplyr::left_join(commercial_gemm, by = "year") |>
dplyr::mutate(diff = total_discards - gemm_alt_dsic)
gemm <- nwfscSurvey::pull_gemm(common_name = "yelloweye rockfish") |>
suppressWarnings()
trawl <- c(
"At-Sea Hake CP", # UNSURE
"At-Sea Hake MSCV", #UNSURE
"CS - Bottom Trawl",
"CS EM - Bottom Trawl",
"Midwater Hake", # UNSURE
"Midwater Rockfish",
"Tribal Shoreside",
"Directed P Halibut", # GUES
"Midwater Rockfish EM",
"Pink Shrimp" ,
"LE Fixed Gear DTL - Hook & Line",
"Midwater Hake EM"="TWL" ,
"CS - Bottom and Midwater Trawl",
"Limited Entry Trawl",
"Tribal At-Sea Hake",
"Shoreside Hake",
"LE CA Halibut"
)
nontrawl <- c(
"CS EM - Pot",
"Incidental",
"LE Sablefish - Hook & Line",
"LE Sablefish - Pot" ,
"Nearshore" ,
"OA Fixed Gear - Hook & Line" ,
"Research", #GUESS
"CS - Pot" ,
"CS - Hook & Line",
"OA Fixed Gear - Pot"
)
commercial_gemm <- gemm |>
dplyr::filter(sector %in% c(trawl, nontrawl)) |>
dplyr::mutate(fleet = dplyr::case_when(
sector %in% trawl ~ "TWL",
sector %in% nontrawl ~ "NONTWL",
TRUE ~ NA
)) |>
# dplyr::mutate(
#   area = dplyr::case_when(
#     sector %in% c(CA_comm_twl, CA_comm_nontwl) ~ "CA",
#     sector %in% c(ORWA_comm_twl, ORWA_comm_nontwl) ~ "ORWA",
#     TRUE ~ "XXXX"
#     ),
#   type = dplyr::case_when(
#     sector %in% c(CA_comm_twl, ORWA_comm_twl) ~ "TWL",
#     sector %in% c(CA_comm_nontwl, ORWA_comm_nontwl) ~ "NONTWL",
#     TRUE ~ "XXXX"
#   ),
#   fleet = glue::glue("{type}-{area}")
# ) |>
dplyr::group_by(year, fleet) |>
dplyr::summarise(total_discards = sum(total_discard_mt),
cv = max(cv))
disdir <- file.path("~/GitHub/Sebastes_ruberrimus_2025", "Data","raw","nonconfidential","discards")
disrate_comb <- utils::read.csv(file.path(disdir, "discard_rates_combined_catch_share.csv"))
disrate_noncatch <- utils::read.csv(file.path(disdir, "discard_rates_noncatch_share.csv"))
disrate_emcatch <- utils::read.csv(file.path(disdir, "discards_rates_em_catch_share.csv"))
disrate_catchsh <- utils::read.csv(file.path(disdir, "discards_rates_catch_share.csv"))
#| eval: false
#| echo: false
catchshare <- rbind(disrate_catchsh, disrate_emcatch) |>
dplyr::filter(catch_shares == TRUE) |>
# rbind(disrate_comb) |>
dplyr::group_by(year, fleet, catch_shares) |>
dplyr::summarise(
n_obs = sum(n_obs),
n_hauls = sum(n_hauls),
n_trips = sum(n_trips),
n_vessels = sum(n_vessels),
obs_disc_mt = sum(observed_discard_mt),
obs_ret_mt = sum(observed_retained_mt),
dis_rate = mean(discard_rate)
)
chk1 <- catchshare |>
dplyr::select(year, fleet, catch_shares, obs_disc_mt)
# data.frame(year = catchshare$year, discard.sum = catchshare$obs_disc_mt)
chk2 <- disrate_catchsh |>
dplyr::select(year, fleet, catch_shares, observed_discard_mt)
# data.frame(year = disrate_catchsh$year, discard.cs = disrate_catchsh$observed_discard_mt)
comb <- dplyr::left_join(chk1, chk2, by = c("year", "fleet", "catch_shares")) |>
dplyr::mutate(diff = obs_disc_mt - observed_discard_mt) # |>
# dplyr::filter(diff > 0)
View(disrate_noncatch)
#| eval: true
#| echo: false
all_noncatch <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::group_by(fleet, year) |>
dplyr::summarise(total_discards = sum(obs_discard)) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
))
View(all_noncatch)
non_catchshare_prop <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
)) |>
dplyr::left_join(all_noncatch, by = c("year", "fleet")) |>
# combine OR and WA fleets like the assessment and GEMM groupings
# dplyr::mutate(fleet = dplyr::case_when(
#                 fleet == "fixed-OR" | fleet == "fixed-WA" ~ "fixed-ORWA",
#                 fleet == "trawl-OR" | fleet == "trawl-WA" ~ "trawl-ORWA",
#                 TRUE ~ fleet
#               )) |>
dplyr::group_by(year, fleet, state) |>
dplyr::summarise(
total_discards = sum(total_discards),
obs_discard = sum(obs_discard)
) |>
dplyr::mutate(prop_disc = obs_discard / total_discards) |>
dplyr::select(year, fleet, state, prop_disc) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
))
View(non_catchshare_prop)
non_catchshare <- non_catchshare_prop |>
dplyr::left_join(commercial_gemm, by = c("year", "fleet")) |> # ,"fleet"
dplyr::mutate(nonshare_discard = total_discards * prop_disc)
View(non_catchshare)
non_catchshare <- non_catchshare_prop |>
dplyr::left_join(commercial_gemm, by = c("year", "fleet")) |> # ,"fleet"
dplyr::mutate(nonshare_discard = total_discards * prop_disc) |>
dplyr::select(year, fleet, state, nonshare_discard)
non_catchshare <- non_catchshare_prop |>
dplyr::full_join(commercial_gemm, by = c("year", "fleet")) |> # ,"fleet"
dplyr::mutate(nonshare_discard = total_discards * prop_disc) |>
dplyr::select(year, fleet, state, nonshare_discard)
non_catchshare <- non_catchshare_prop |>
dplyr::full_join(commercial_gemm, by = c("year", "fleet")) |> # ,"fleet"
dplyr::mutate(nonshare_discard = total_discards * prop_disc)
non_catchshare <- non_catchshare_prop |>
dplyr::full_join(commercial_gemm, by = c("year", "fleet")) |> # ,"fleet"
dplyr::mutate(nonshare_discard = total_discards * prop_disc) |>
dplyr::select(year, fleet, state, nonshare_discard)
# check years for non-share data
tidyr::pivot_wider(non_catchshare,
id_cols = c(year, state),
names_from = fleet,
values_from = nonshare_discard
) |>
flextable::flextable()
View(disrate_comb)
all_comm_discards <- disrate_comb |>
dplyr::select(year, fleet, observed_discard_mt) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
)) |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::full_join(non_catchshare, by = c("year", "fleet", "state")) |>
dplyr::mutate(nonshare_discard = dplyr::case_when(is.na(nonshare_discard) ~ 0,
TRUE ~ nonshare_discard),
observed_discard_mt = dplyr::case_when(is.na(observed_discard_mt) ~ 0,
TRUE ~ observed_discard_mt),
total_discards = round(observed_discard_mt + nonshare_discard, 2)) |>
dplyr::mutate(fleet = glue::glue("{fleet}-{state}"))
View(all_comm_discards)
#| echo: false
#| eval: true
all_comm_discards <- disrate_comb |>
dplyr::select(year, fleet, observed_discard_mt) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
)) |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::full_join(non_catchshare, by = c("year", "fleet", "state")) |>
dplyr::mutate(nonshare_discard = dplyr::case_when(is.na(nonshare_discard) ~ 0,
TRUE ~ nonshare_discard),
observed_discard_mt = dplyr::case_when(is.na(observed_discard_mt) ~ 0,
TRUE ~ observed_discard_mt),
total_discards = round(observed_discard_mt + nonshare_discard, 2)) |>
dplyr::mutate(fleet = glue::glue("{fleet}-{state}")) |>
dplyr::select(year, fleet, total_discards)
library(readr)
commercial_discards <- read_csv("Data/processed/discards/commercial_discards.csv")
View(commercial_discards)
commercial_discards <- commercial_discards[,-1]
write.csv(all_comm_discards, file = "~/GitHub/Sebastes_ruberrimus_2025/Data/processed/discards/commercial_discards.csv")
View(commercial_gemm)
all_noncatch <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::group_by(fleet, year) |>
dplyr::summarise(total_discards = sum(obs_discard)) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
))
View(all_noncatch)
all_noncatch <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state"))
View(disrate_noncatch)
#| eval: true
#| echo: false
all_noncatch <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::group_by(fleet, year) |>
dplyr::summarise(total_discards = sum(obs_discard)) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
))
non_catchshare_prop <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
)) |>
# combine OR and WA fleets like the assessment and GEMM groupings
# dplyr::mutate(fleet = dplyr::case_when(
#                 fleet == "fixed-OR" | fleet == "fixed-WA" ~ "fixed-ORWA",
#                 fleet == "trawl-OR" | fleet == "trawl-WA" ~ "trawl-ORWA",
#                 TRUE ~ fleet
#               )) |>
dplyr::group_by(year, fleet, state) |>
dplyr::summarise(
# total_discards = sum(total_discards),
obs_discard = sum(obs_discard)
) |>
dplyr::left_join(all_noncatch, by = c("year", "fleet")) |>
dplyr::mutate(prop_disc = obs_discard / total_discards) |>
dplyr::select(year, fleet, state, prop_disc) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
))
View(non_catchshare_prop)
non_catchshare_prop <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
)) |>
# combine OR and WA fleets like the assessment and GEMM groupings
# dplyr::mutate(fleet = dplyr::case_when(
#                 fleet == "fixed-OR" | fleet == "fixed-WA" ~ "fixed-ORWA",
#                 fleet == "trawl-OR" | fleet == "trawl-WA" ~ "trawl-ORWA",
#                 TRUE ~ fleet
#               )) |>
# dplyr::group_by(year, fleet, state) |>
# dplyr::summarise(
#   # total_discards = sum(total_discards),
#   obs_discard = sum(obs_discard)
# ) |>
dplyr::left_join(all_noncatch, by = c("year", "fleet")) |>
dplyr::mutate(prop_disc = obs_discard / total_discards)
non_catchshare_prop <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
)) |>
# combine OR and WA fleets like the assessment and GEMM groupings
# dplyr::mutate(fleet = dplyr::case_when(
#                 fleet == "fixed-OR" | fleet == "fixed-WA" ~ "fixed-ORWA",
#                 fleet == "trawl-OR" | fleet == "trawl-WA" ~ "trawl-ORWA",
#                 TRUE ~ fleet
#               )) |>
# dplyr::group_by(year, fleet, state) |>
# dplyr::summarise(
#   # total_discards = sum(total_discards),
#   obs_discard = sum(obs_discard)
# ) |>
dplyr::full_join(all_noncatch, by = c("year", "fleet")) |>
dplyr::mutate(prop_disc = obs_discard / total_discards) |>
dplyr::select(year, fleet, state, prop_disc) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
))
non_catchshare_prop <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
)) |>
# combine OR and WA fleets like the assessment and GEMM groupings
# dplyr::mutate(fleet = dplyr::case_when(
#                 fleet == "fixed-OR" | fleet == "fixed-WA" ~ "fixed-ORWA",
#                 fleet == "trawl-OR" | fleet == "trawl-WA" ~ "trawl-ORWA",
#                 TRUE ~ fleet
#               )) |>
# dplyr::group_by(year, fleet, state) |>
# dplyr::summarise(
#   # total_discards = sum(total_discards),
#   obs_discard = sum(obs_discard)
# ) |>
dplyr::full_join(all_noncatch, by = c("year", "fleet")) |>
dplyr::mutate(prop_disc = obs_discard / total_discards)
non_catchshare_prop <- disrate_noncatch |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::mutate(fleet = dplyr::case_when(
fleet == "fixed" ~ "NONTWL",
fleet == "trawl" ~ "TWL",
TRUE ~ "TWL"
)) |>
# combine OR and WA fleets like the assessment and GEMM groupings
# dplyr::mutate(fleet = dplyr::case_when(
#                 fleet == "fixed-OR" | fleet == "fixed-WA" ~ "fixed-ORWA",
#                 fleet == "trawl-OR" | fleet == "trawl-WA" ~ "trawl-ORWA",
#                 TRUE ~ fleet
#               )) |>
# dplyr::group_by(year, fleet, state) |>
# dplyr::summarise(
#   # total_discards = sum(total_discards),
#   obs_discard = sum(obs_discard)
# ) |>
dplyr::full_join(all_noncatch, by = c("year", "fleet")) |>
dplyr::mutate(prop_disc = obs_discard / total_discards) |>
dplyr::select(year, fleet, state, prop_disc) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
))
non_catchshare <- non_catchshare_prop |>
dplyr::full_join(commercial_gemm, by = c("year", "fleet")) |> # ,"fleet"
dplyr::mutate(nonshare_discard = total_discards * prop_disc) |>
dplyr::select(year, fleet, state, nonshare_discard)
View(non_catchshare)
# check years for non-share data
tidyr::pivot_wider(non_catchshare,
id_cols = c(year, state),
names_from = fleet,
values_from = nonshare_discard
) |>
flextable::flextable()
all_comm_discards <- disrate_comb |>
dplyr::select(year, fleet, observed_discard_mt) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
)) |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::full_join(non_catchshare, by = c("year", "fleet", "state")) |>
dplyr::mutate(nonshare_discard = dplyr::case_when(is.na(nonshare_discard) ~ 0,
TRUE ~ nonshare_discard),
observed_discard_mt = dplyr::case_when(is.na(observed_discard_mt) ~ 0,
TRUE ~ observed_discard_mt),
total_discards = round(observed_discard_mt + nonshare_discard, 2))
View(all_comm_discards)
#| echo: false
#| eval: true
all_comm_discards <- disrate_comb |>
dplyr::select(year, fleet, observed_discard_mt) |>
dplyr::mutate(fleet = dplyr::case_when(
grepl("fixed", fleet) ~ stringr::str_replace(fleet, "fixed", "NONTWL"),
grepl("trawl", fleet) ~ stringr::str_replace(fleet, "trawl", "TWL"),
TRUE ~ fleet
)) |>
tidyr::separate_wider_delim(fleet, delim = "-", names = c("fleet", "state")) |>
dplyr::full_join(non_catchshare, by = c("year", "fleet", "state")) |>
dplyr::mutate(nonshare_discard = dplyr::case_when(is.na(nonshare_discard) ~ 0,
TRUE ~ nonshare_discard),
observed_discard_mt = dplyr::case_when(is.na(observed_discard_mt) ~ 0,
TRUE ~ observed_discard_mt),
total_discards = round(observed_discard_mt + nonshare_discard, 2)) |>
dplyr::mutate(fleet = glue::glue("{fleet}-{state}")) |>
dplyr::select(year, fleet, total_discards)
library(readr)
commercial_discards <- read_csv("Data/processed/discards/commercial_discards.csv")
View(commercial_discards)
commercial_discards <- commercial_discards[,-1]
write.csv(all_comm_discards, file = "~/GitHub/Sebastes_ruberrimus_2025/Data/processed/discards/commercial_discards.csv")
View(disrate_comb)
View(disrate_noncatch)
